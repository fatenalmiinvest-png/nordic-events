<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nordic Events 2026 â€” Sydfonden</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
::selection{background:#7c3aed;color:#fff}
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-thumb{background:#334155;border-radius:3px}
body{min-height:100vh;background:linear-gradient(180deg,#0a0e1a,#111827);color:#e2e8f0;font-family:'DM Sans',sans-serif}
.wrap{max-width:900px;margin:0 auto;padding:0 20px}
.header{padding:40px 0 20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px}
.logo{display:flex;align-items:center;gap:12px}
.logo-icon{width:40px;height:40px;background:linear-gradient(135deg,#7c3aed,#2563eb);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px}
.logo h1{font-family:'Space Mono',monospace;font-size:24px;font-weight:700;background:linear-gradient(135deg,#e2e8f0,#94a3b8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.subtitle{color:#64748b;font-size:13px;margin-top:4px;padding-left:52px}
.search{width:100%;padding:11px 16px;background:#1e293b;border:1px solid #334155;border-radius:12px;color:#e2e8f0;font-size:14px;outline:none;font-family:inherit;margin-bottom:14px}
.search:focus{border-color:#7c3aed}
.filters{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
.fbtn{padding:6px 14px;border-radius:20px;border:1px solid #334155;background:transparent;color:#94a3b8;font-size:13px;cursor:pointer;font-family:inherit;font-weight:500;transition:all .15s}
.fbtn.on{border-color:#7c3aed;background:rgba(124,58,237,.15);color:#a78bfa}
.cats{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:28px}
.cat{padding:4px 11px;border-radius:16px;border:1px solid #334155;background:transparent;color:#64748b;font-size:12px;cursor:pointer;font-family:inherit;font-weight:500;transition:all .15s}
.cat.on{color:#e2e8f0}
.clear{border-color:#ef4444;color:#ef4444}
.month-hdr{display:flex;align-items:center;gap:12px;margin-bottom:14px;position:sticky;top:0;z-index:10;background:linear-gradient(180deg,#111827,rgba(17,24,39,.95) 80%,transparent);padding:10px 0 6px}
.month-hdr h2{font-family:'Space Mono',monospace;font-size:14px;font-weight:700;color:#7c3aed;letter-spacing:1px;text-transform:uppercase}
.month-hdr .line{flex:1;height:1px;background:#1e293b}
.month-hdr .cnt{color:#475569;font-size:12px;font-family:'Space Mono',monospace}
.card{background:#1e293b;border:1px solid #252f3f;border-radius:14px;padding:14px 18px;margin-bottom:8px;cursor:pointer;transition:border-color .15s}
.card:hover{border-color:#475569}
.card.current{background:rgba(124,58,237,.06);border-color:rgba(124,58,237,.3)}
.card.past{opacity:.45}
.card-top{display:flex;align-items:flex-start;gap:14px}
.date-badge{min-width:48px;text-align:center;padding-top:2px}
.date-num{font-family:'Space Mono',monospace;font-size:20px;font-weight:700;color:#e2e8f0;line-height:1}
.card.current .date-num{color:#a78bfa}
.date-mon{font-family:'Space Mono',monospace;font-size:10px;color:#64748b;text-transform:uppercase;letter-spacing:1px}
.card-body{flex:1;min-width:0}
.card-body h3{font-size:14px;font-weight:600;color:#f1f5f9;line-height:1.3;margin-bottom:3px}
.card-meta{font-size:12px;color:#94a3b8;margin-bottom:6px}
.tags{display:flex;gap:5px;flex-wrap:wrap}
.tag{padding:2px 7px;border-radius:10px;color:#94a3b8;font-size:10px;font-weight:500}
.arrow{color:#475569;font-size:11px;transition:transform .2s;padding-top:4px}
.arrow.open{transform:rotate(180deg)}
.detail{margin-top:14px;padding-top:14px;border-top:1px solid #252f3f;display:none}
.detail.open{display:block;animation:fi .2s ease}
@keyframes fi{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.detail p{font-size:13px;color:#cbd5e1;line-height:1.6;margin-bottom:12px}
.btn-link{display:inline-flex;align-items:center;gap:6px;padding:7px 14px;background:linear-gradient(135deg,#7c3aed,#2563eb);border-radius:8px;color:#fff;font-size:12px;font-weight:600;text-decoration:none;font-family:inherit}
.btn-link:hover{opacity:.85}
.no-link{font-size:12px;color:#475569;font-style:italic}
.empty{text-align:center;padding:60px 0;color:#475569}
.empty p{font-size:16px;margin-bottom:12px}
.empty button{padding:8px 20px;background:#7c3aed;border:none;border-radius:8px;color:#fff;font-size:14px;cursor:pointer;font-family:inherit}
.past-toggle{display:flex;align-items:center;gap:6px;padding:6px 14px;border-radius:20px;border:1px solid #334155;font-size:13px;color:#94a3b8;cursor:pointer;margin-left:auto}
.past-toggle input{accent-color:#7c3aed}
.badge{font-size:11px;padding:1px 6px;border-radius:8px;background:rgba(124,58,237,.15);color:#a78bfa;margin-left:6px}
.loading{text-align:center;padding:60px 0;color:#64748b;font-size:14px}
</style>
</head>
<body>

<div class="wrap">
  <div class="header">
    <div class="logo">
      <div class="logo-icon">ðŸ“…</div>
      <h1>Nordic Events 2026</h1>
    </div>
  </div>
  <p class="subtitle" id="counter"></p>
</div>

<div class="wrap">
  <input class="search" type="text" id="search" placeholder="ðŸ” SÃ¶k event, stad eller tema...">

  <div class="filters" id="geoFilters"></div>
  <div class="cats" id="catFilters"></div>
</div>

<div class="wrap" id="eventList" style="padding-bottom:80px">
  <div class="loading">Laddar eventsâ€¦</div>
</div>

<script>
/* â”€â”€ All event data is loaded from events.json â”€â”€ */
let EVENTS = [];

const MS=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"];
const FL={SE:"\u{1F1F8}\u{1F1EA}",US:"\u{1F1FA}\u{1F1F8}",UK:"\u{1F1EC}\u{1F1E7}",DE:"\u{1F1E9}\u{1F1EA}",FI:"\u{1F1EB}\u{1F1EE}",DK:"\u{1F1E9}\u{1F1F0}",NO:"\u{1F1F3}\u{1F1F4}",NL:"\u{1F1F3}\u{1F1F1}",FR:"\u{1F1EB}\u{1F1F7}",ES:"\u{1F1EA}\u{1F1F8}",PT:"\u{1F1F5}\u{1F1F9}",CH:"\u{1F1E8}\u{1F1ED}",IE:"\u{1F1EE}\u{1F1EA}",EE:"\u{1F1EA}\u{1F1EA}",EU:"\u{1F1EA}\u{1F1FA}",Nordic:"\u{1F30D}"};
const CC={"Tech":"#1e3a5f","AI":"#0f766e","Startup":"#4338ca","VC":"#7c3aed","Investor":"#6d28d9","Life Science":"#be185d","Biotech":"#9d174d","Medtech":"#e11d48","Healthtech":"#f43f5e","Fintech":"#0369a1","SaaS":"#0284c7","Deeptech":"#1e40af","Cleantech":"#15803d","Diversity":"#c026d3"};
const NK=["SE","FI","DK","NO","EE"];
let CATS=[];

let state={search:"",geo:"all",cats:new Set(),past:false,open:null};

function fmtDate(d,e){
  const s=new Date(d+"T00:00:00"),en=new Date(e+"T00:00:00");
  if(d===e)return s.getDate()+" "+MS[s.getMonth()];
  if(s.getMonth()===en.getMonth())return s.getDate()+"\u2013"+en.getDate()+" "+MS[s.getMonth()];
  return s.getDate()+" "+MS[s.getMonth()]+" \u2013 "+en.getDate()+" "+MS[en.getMonth()];
}
function isPast(d){return new Date(d+"T00:00:00")<new Date()}
function isCurMonth(d){const dt=new Date(d+"T00:00:00"),now=new Date();return dt.getMonth()===now.getMonth()&&dt.getFullYear()===now.getFullYear()}
function monthKey(d){return MS[new Date(d+"T00:00:00").getMonth()]+" 2026"}

function filter(){
  return EVENTS.filter(e=>{
    if(!state.past&&isPast(e.end))return false;
    if(state.search&&![e.name,e.city,e.focus].some(s=>s.toLowerCase().includes(state.search.toLowerCase())))return false;
    if(state.cats.size&&!e.cat.some(c=>state.cats.has(c)))return false;
    if(state.geo==="se"&&e.country!=="SE")return false;
    if(state.geo==="nordic"&&!NK.includes(e.country))return false;
    if(state.geo==="int"&&NK.includes(e.country))return false;
    return true;
  }).sort((a,b)=>a.date.localeCompare(b.date));
}

function render(){
  const fil=filter();
  document.getElementById("counter").textContent=fil.length+" events \u00b7 Startup, VC & Tech";

  const grouped={};
  fil.forEach(e=>{const m=monthKey(e.date);(grouped[m]=grouped[m]||[]).push(e)});

  let html="";
  for(const[month,evts]of Object.entries(grouped)){
    html+=`<div style="margin-bottom:32px">
      <div class="month-hdr"><h2>${month}</h2><div class="line"></div><span class="cnt">${evts.length}</span></div>`;
    for(const e of evts){
      const past=isPast(e.end),cur=isCurMonth(e.date),isOpen=state.open===e.id;
      const d=new Date(e.date+"T00:00:00");
      html+=`<div class="card${cur?" current":""}${past?" past":""}" onclick="toggle('${e.id}')">
        <div class="card-top">
          <div class="date-badge">
            <div class="date-num">${d.getDate()}</div>
            <div class="date-mon">${MS[d.getMonth()]}</div>
          </div>
          <div class="card-body">
            <h3>${e.name}</h3>
            <div class="card-meta">${FL[e.country]||""} ${e.city} \u00b7 ${fmtDate(e.date,e.end)}</div>
            <div class="tags">${e.cat.map(c=>`<span class="tag" style="background:${(CC[c]||"#64748b")}20">${c}</span>`).join("")}</div>
          </div>
          <div class="arrow${isOpen?" open":"}">\u25BC</div>
        </div>
        <div class="detail${isOpen?" open":""}">
          <p>${e.focus}</p>
          ${e.url?`<a class="btn-link" href="${e.url}" target="_blank" rel="noopener" onclick="event.stopPropagation()">GÃ¥ till event \u2192</a>`:`<span class="no-link">LÃ¤nk saknas</span>`}
        </div>
      </div>`;
    }
    html+=`</div>`;
  }

  if(!fil.length){
    html=`<div class="empty"><p>Inga events matchar</p><button onclick="resetAll()">Visa alla</button></div>`;
  }
  document.getElementById("eventList").innerHTML=html;
}

function toggle(id){state.open=state.open===id?null:id;render()}

function resetAll(){
  state={search:"",geo:"all",cats:new Set(),past:false,open:null};
  document.getElementById("search").value="";
  buildGeo();buildCats();render();
}

function buildGeo(){
  const geos=[["all","Alla"],["se","\u{1F1F8}\u{1F1EA} Sverige"],["nordic","\u{1F30D} Norden"],["int","\u2708\uFE0F Int."]];
  let h=geos.map(([v,l])=>`<button class="fbtn${state.geo===v?" on":""}" onclick="state.geo='${v}';buildGeo();render()">${l}</button>`).join("");
  h+=`<label class="past-toggle"><input type="checkbox" ${state.past?"checked":""} onchange="state.past=this.checked;render()">Passerade</label>`;
  document.getElementById("geoFilters").innerHTML=h;
}

function buildCats(){
  let h=CATS.map(c=>{
    const on=state.cats.has(c);
    return`<button class="cat${on?" on":""}" style="border-color:${on?(CC[c]||"#64748b"):"#334155"};background:${on?(CC[c]||"#64748b")+"22":"transparent"}" onclick="toggleCat('${c}')">${c}</button>`;
  }).join("");
  if(state.cats.size)h+=`<button class="cat clear" onclick="state.cats.clear();buildCats();render()">\u2715</button>`;
  document.getElementById("catFilters").innerHTML=h;
}

function toggleCat(c){state.cats.has(c)?state.cats.delete(c):state.cats.add(c);buildCats();render()}

document.getElementById("search").addEventListener("input",function(){state.search=this.value;render()});

/* â”€â”€ Load events from JSON file â”€â”€ */
fetch("events.json")
  .then(r => r.json())
  .then(data => {
    EVENTS = data;
    CATS = [...new Set(EVENTS.flatMap(e => e.cat))].sort();
    buildGeo();
    buildCats();
    render();
  })
  .catch(err => {
    document.getElementById("eventList").innerHTML =
      '<div class="empty"><p>Kunde inte ladda events. Kontrollera att events.json finns.</p></div>';
    console.error("Failed to load events.json:", err);
  });
</script>
</body>
</html>
